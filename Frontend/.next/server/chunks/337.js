exports.id=337,exports.ids=[337],exports.modules={7113:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{Z:()=>i});var r=a(997),c=a(1163),o=a(6689),n=a(1932),l=e([n]);n=(l.then?(await l)():l)[0];let i=e=>t=>{let a=(0,c.useRouter)();return(0,o.useEffect)(()=>{(async()=>{let e=localStorage.getItem("token");e&&await (0,n.T2)(e)||a.replace("/")})()},[]),r.jsx(e,{...t})};s()}catch(e){s(e)}})},1451:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{Z:()=>h});var r=a(997),c=a(5241),o=a(6689),n=a(1163),l=a(2621),i=e([l,c]);[l,c]=i.then?(await i)():i;let h=({isOpen:e,chat_id:t=!1})=>{let[a,s]=(0,o.useState)([]),[i,h]=(0,o.useState)({}),u=(0,o.useRef)(null),d=(0,n.useRouter)(),p=e=>{s(a.map(t=>t.id===e?{...t,edit:!t.edit}:t)),i[e]||h(t=>({...t,[e]:a.find(t=>t.id===e).name})),setTimeout(()=>{u.current&&u.current.focus()},0)},m=(e,t)=>{h(a=>({...a,[e]:t.target.value}))},g=async(e,t)=>{"Enter"===t.key&&(s(a.map(t=>t.id===e?{...t,name:i[e],edit:!1}:t)),await (0,l.iY)(i[e],e,localStorage.getItem("token")),h(t=>({...t,[e]:""})))},y=async e=>{confirm("\xbfQuieres eliminar el chat de forma permanente?")?(s(a.filter(t=>t.id!==e)),await (0,l.tt)(e,localStorage.getItem("token")),t&&t==e&&d.push("/inicio")):console.log("Cancelado")},f=e=>{let t=new Date(e),a=String(t.getDate()).padStart(2,"0"),s=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getFullYear()).slice(-2);return`${a}/${s}/${r}`},x=(e,t)=>e.length<=t?e:e.substring(0,t)+"...";return(0,o.useEffect)(()=>{(async()=>{let e=await (0,l.iG)(localStorage.getItem("token"));e.success&&s(e.data)})()},[]),r.jsx("div",{children:r.jsx(c.pJ,{as:"nav",className:`fixed z-20 top-0 left-0 w-[300px] h-full bg-[#66CDEE] transform ${e?"translate-x-0":"-translate-x-full"} transition-transform duration-500 ease-in-out`,children:(0,r.jsxs)("div",{className:"p-4",children:[r.jsx("a",{href:"/inicio",children:r.jsx("img",{src:"/assets/images/logo-v2.png",alt:"DietAsist Logo",className:"navbar-logo"})}),r.jsx("hr",{className:"border-0 w-full h-px bg-white mb-[20px]"}),r.jsx("a",{href:"/inicio",className:"custom-link",children:(0,r.jsxs)("div",{className:"rounded-md mb-3 flex flex-row justify-start items-center cursor-pointer",children:[r.jsx("div",{children:r.jsx("img",{src:"/assets/icons/plus.png",className:"w-5 h-5"})}),r.jsx("label",{className:"newchat-text hover:translate-x-[15px] transition-transform duration-500 ease-in-out",children:"Nueva conversaci\xf3n"})]})}),r.jsx("div",{className:"mb-1 flex flex-row justify-start items-center",children:r.jsx("label",{className:"history-text",children:"Historial"})}),r.jsx("ul",{className:"p-0",children:a.map(e=>r.jsx("li",{className:"mb-0.5",children:(0,r.jsxs)("div",{className:"flex flex-row items-center justify-between w-full",children:[e.edit?(0,r.jsxs)("div",{className:"w-[65%] h-[22px] rounded-md py-[18px] flex flex-row justify-start items-center",children:[r.jsx("img",{src:"/assets/icons/chat.png",alt:"Chat Icon",className:"w-5 h-5 mr-[10px]"}),r.jsx("input",{ref:u,type:"text",defaultValue:e.name,className:"w-full chatsinput-text bg-[#66CDEE]",onChange:t=>m(e.id,t),onKeyDown:t=>g(e.id,t)})]}):(0,r.jsxs)("a",{href:`/chat/${e.id}`,className:"custom-link chath-section",children:[(0,r.jsxs)("div",{className:"chath-section2",children:[(0,r.jsxs)("div",{className:"flex flex-row items-center",children:[r.jsx("img",{src:"/assets/icons/chat.png",alt:"Chat Icon",className:"w-5 h-5"}),r.jsx("label",{className:"chats-text",children:`${x(e.name,6)}`})]}),r.jsx("label",{className:"chats-text",children:`(${f(e.created_at)})`})]}),r.jsx("span",{class:"name-tag",children:e.name})]}),(0,r.jsxs)("div",{className:"flex flex-row items-center",children:[r.jsx("div",{className:"rounded-md py-[8px] px-[8px] cursor-pointer hover:bg-[#A5E2F5]",onClick:()=>p(e.id),children:r.jsx("img",{src:"/assets/icons/pencil.png",alt:"Pencil Icon",className:"w-5 h-5"})}),r.jsx("div",{className:"h-[20px] bg-black w-[1px]"}),r.jsx("div",{className:"rounded-md py-[8px] px-[8px] cursor-pointer hover:bg-[#A5E2F5]",onClick:()=>y(e.id),children:r.jsx("img",{src:"/assets/icons/trash.png",alt:"Trash Icon",className:"w-5 h-5"})})]})]})},e.id))})]})})})};s()}catch(e){s(e)}})},1932:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{GS:()=>u,NB:()=>i,T2:()=>o,c0:()=>d,hh:()=>h,kS:()=>l,z2:()=>n});var r=a(9648),c=e([r]);r=(c.then?(await c)():c)[0];let o=async e=>{try{return(await r.default.get("http://localhost:8093/api/v1/auth/validar_token",{headers:{Authorization:`Bearer ${e}`}})).data}catch(e){return!1}},n=async(e,t,a)=>{try{return await r.default.post("http://localhost:8093/api/v1/auth/register",{email:e,password:t,fullname:a}),{success:!0}}catch(e){return{success:!1,message:e.response?.data?.mensaje}}},l=()=>{localStorage.removeItem("token")},i=async e=>{try{return await r.default.put("http://localhost:8093/api/v1/auth/validate?token="+e),{success:!0}}catch(e){return{success:!1,message:e.response?.data?.mensaje}}},h=async e=>{try{return await r.default.get("http://localhost:8093/api/v1/auth/resendvalidate?email="+e),{success:!0}}catch(e){return{success:!1,message:e.response?.data?.mensaje}}},u=async e=>{try{return await r.default.post("http://localhost:8093/api/v1/auth/requestrecover?email="+e),{success:!0}}catch(e){return{success:!1,message:e.response?.data?.mensaje}}},d=async(e,t)=>{try{return await r.default.post("http://localhost:8093/api/v1/auth/recoverpassword",{token:e,password:t}),{success:!0}}catch(e){return console.log(e),{success:!1,message:e.response?.data?.mensaje}}};s()}catch(e){s(e)}})},2621:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{$O:()=>d,H2:()=>j,Jt:()=>p,Ql:()=>u,TC:()=>l,_B:()=>o,eJ:()=>h,iG:()=>g,iY:()=>y,jA:()=>i,lY:()=>x,m8:()=>n,mw:()=>m,tt:()=>f});var r=a(9648),c=e([r]);r=(c.then?(await c)():c)[0];let o=async(e,t)=>{try{await r.default.post("http://localhost:8093/api/v1/chat/create_message",e,{headers:{Authorization:`Bearer ${t}`}})}catch(e){console.log(e)}},n=async(e,t)=>{try{return{data:(await r.default.post("http://localhost:8093/api/v1/chat/prediction/"+e,{},{headers:{Authorization:`Bearer ${t}`}})).data.object,success:!0}}catch(e){return console.log(e),{success:!1}}},l=async e=>{try{return(await r.default.get("http://localhost:8093/api/v1/chat/hipertension",{headers:{Authorization:`Bearer ${e}`}})).data.object}catch(e){return console.log(e),e}},i=async(e,t)=>{try{return(await r.default.get("http://localhost:8093/api/v1/chat/alergicosporcomida/"+e,{headers:{Authorization:`Bearer ${t}`}})).data.object}catch(e){return console.log(e),e}},h=async(e,t)=>{try{return(await r.default.get("http://localhost:8093/api/v1/chat/obesidad_apto/"+e,{headers:{Authorization:`Bearer ${t}`}})).data.object}catch(e){return console.log(e),e}},u=async(e,t)=>{try{return(await r.default.get("http://localhost:8093/api/v1/chat/colesterol_apto/"+e,{headers:{Authorization:`Bearer ${t}`}})).data.object}catch(e){return console.log(e),e}},d=async(e,t)=>{try{return(await r.default.get("http://localhost:8093/api/v1/chat/acidourico_apto/"+e,{headers:{Authorization:`Bearer ${t}`}})).data.object}catch(e){return console.log(e),e}},p=async e=>{try{return(await r.default.post("http://localhost:8093/api/v1/chat/register",{},{headers:{Authorization:`Bearer ${e}`}})).data.object}catch(e){console.log(e)}},m=async(e,t)=>{try{return{data:(await r.default.get("http://localhost:8093/api/v1/chat/getonechat/"+e,{headers:{Authorization:`Bearer ${t}`}})).data.object,success:!0}}catch(e){return console.log(e),{success:!1}}},g=async e=>{try{return{data:(await r.default.get("http://localhost:8093/api/v1/chat/get_all_by_user",{headers:{Authorization:`Bearer ${e}`}})).data.object,success:!0}}catch(e){return{success:!1}}},y=async(e,t,a)=>{try{return{data:(await r.default.put("http://localhost:8093/api/v1/chat/update_name/"+t+"?newname="+e,{},{headers:{Authorization:`Bearer ${a}`}})).data.mensaje,success:!0}}catch(e){return{success:!1}}},f=async(e,t)=>{try{return{data:(await r.default.delete("http://localhost:8093/api/v1/chat/delete/"+e,{headers:{Authorization:`Bearer ${t}`}})).data.mensaje,success:!0}}catch(e){return{success:!1}}},x=async(e,t)=>{try{return{data:(await r.default.get("http://localhost:8093/api/v1/peruvianDishes/receta/"+e,{headers:{Authorization:`Bearer ${t}`}})).data.object,success:!0}}catch(e){return{success:!1}}},j=async(e,t)=>{try{return{data:(await r.default.get("http://localhost:8093/api/v1/chat/recomendation/"+e,{headers:{Authorization:`Bearer ${t}`}})).data.object,success:!0}}catch(e){return{success:!1}}};s()}catch(e){s(e)}})},1896:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{Iy:()=>i,Jg:()=>d,M2:()=>o,dy:()=>l,kO:()=>u,n:()=>n,n$:()=>p,sE:()=>h});var r=a(9648),c=e([r]);r=(c.then?(await c)():c)[0];let o=async e=>{try{return(await r.default.get("http://localhost:8093/api/v1/user/get_all_info",{headers:{Authorization:`Bearer ${e}`}})).data.object}catch(e){console.log(e)}},n=async(e,t)=>{try{return await r.default.put("http://localhost:8093/api/v1/user/basicdata",{gender:e.sexo,size:e.estatura,age:e.edad,weight:e.peso,physical_activity:e.actividadfisica,meal_frequency:e.comidasxdia},{headers:{Authorization:`Bearer ${t}`}}),{success:!0}}catch(e){return{success:!1,message:e.response?.data?.mensaje}}},l=async(e,t)=>{try{return await r.default.put("http://localhost:8093/api/v1/user/medical_parameters",{hypertension:"S\xed"===e.hypertension?1:0,glycosylated_hemoglobin:e.glycosylated_hemoglobin,triglyceride:e.triglyceride,cholesterol_total:e.cholesterol_total,cholesterol_LDL:e.cholesterol_LDL,urid_acid:e.urid_acid},{headers:{Authorization:`Bearer ${t}`}}),{success:!0}}catch(e){return{success:!1,message:e.response?.data?.mensaje}}},i=async e=>{try{return(await r.default.get("http://localhost:8093/api/v1/allergicingredient/get_all_for_user",{headers:{Authorization:`Bearer ${e}`}})).data.object}catch(e){console.log(e)}},h=async e=>{try{return(await r.default.get("http://localhost:8093/api/v1/allergicingredient/getallfordropdown",{headers:{Authorization:`Bearer ${e}`}})).data.object}catch(e){console.log(e)}},u=async(e,t)=>{try{return await r.default.post("http://localhost:8093/api/v1/allergicingredient/add",e,{headers:{Authorization:`Bearer ${t}`}}),{success:!0}}catch(e){return{success:!1,message:erro?.response?.data?.mensaje}}},d=async(e,t)=>{try{let a=await r.default.delete("http://localhost:8093/api/v1/allergicingredient/delete/"+e,{headers:{Authorization:`Bearer ${t}`}});return{success:!0,message:a.data.mensaje}}catch(e){return{success:!1,message:e.response?.data?.mensaje}}},p=async(e,t)=>{try{let a=new FormData;return a.append("file",e),await r.default.post("http://localhost:8093/api/v1/user/upload",a,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"multipart/form-data"}}),{success:!0}}catch(e){return{success:!1,message:e.response?.data?.mensaje||"Error de actualizaci\xf3n de foto de perfil."}}};s()}catch(e){s(e)}})},6764:()=>{}};